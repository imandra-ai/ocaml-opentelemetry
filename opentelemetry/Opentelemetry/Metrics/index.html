<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Metrics (opentelemetry.Opentelemetry.Metrics)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">opentelemetry</a> &#x00BB; <a href="../index.html">Opentelemetry</a> &#x00BB; Metrics</nav><header class="odoc-preamble"><h1>Module <code><span>Opentelemetry.Metrics</span></code></h1><p>Metrics.</p><p>See <a href="https://opentelemetry.io/docs/reference/specification/overview/#metric-signal">the spec</a></p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="../../Opentelemetry_proto/Metrics/index.html#type-metric">Proto.Metrics.metric</a></span></code></div><div class="spec-doc"><p>A single metric, measuring some time-varying quantity or statistical distribution. It is composed of one or more data points that have precise values and time stamps. Each distinct metric should have a distinct name.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : 
  <span><span class="optlabel">?start_time_unix_nano</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?now</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?attrs</span>:
    <span><span>(string
     * <span>[&lt; <span>`Bool of bool</span>
       <span><span>| `Float</span> of float</span>
       <span><span>| `Int</span> of int</span>
       <span>| `None</span>
       <span><span>| `String</span> of string</span> ]</span>)</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Opentelemetry_proto/Metrics/index.html#type-number_data_point">Proto.Metrics.number_data_point</a></span></code></div><div class="spec-doc"><p>Number data point, as a float</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : 
  <span><span class="optlabel">?start_time_unix_nano</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?now</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?attrs</span>:
    <span><span>(string
     * <span>[&lt; <span>`Bool of bool</span>
       <span><span>| `Float</span> of float</span>
       <span><span>| `Int</span> of int</span>
       <span>| `None</span>
       <span><span>| `String</span> of string</span> ]</span>)</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Opentelemetry_proto/Metrics/index.html#type-number_data_point">Proto.Metrics.number_data_point</a></span></code></div><div class="spec-doc"><p>Number data point, as an int</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-gauge"><a href="#val-gauge" class="anchor"></a><code><span><span class="keyword">val</span> gauge : 
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?description</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unit_</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Opentelemetry_proto/Metrics/index.html#type-number_data_point">Proto.Metrics.number_data_point</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Aggregation of a scalar metric, always with the current value</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-aggregation_temporality"><a href="#type-aggregation_temporality" class="anchor"></a><code><span><span class="keyword">type</span> aggregation_temporality</span><span> = <a href="../../Opentelemetry_proto/Metrics/index.html#type-aggregation_temporality">Proto.Metrics.aggregation_temporality</a></span><span> = </span></code><ol><li id="type-aggregation_temporality.Aggregation_temporality_unspecified" class="def variant constructor anchored"><a href="#type-aggregation_temporality.Aggregation_temporality_unspecified" class="anchor"></a><code><span>| </span><span><span class="constructor">Aggregation_temporality_unspecified</span></span></code></li><li id="type-aggregation_temporality.Aggregation_temporality_delta" class="def variant constructor anchored"><a href="#type-aggregation_temporality.Aggregation_temporality_delta" class="anchor"></a><code><span>| </span><span><span class="constructor">Aggregation_temporality_delta</span></span></code></li><li id="type-aggregation_temporality.Aggregation_temporality_cumulative" class="def variant constructor anchored"><a href="#type-aggregation_temporality.Aggregation_temporality_cumulative" class="anchor"></a><code><span>| </span><span><span class="constructor">Aggregation_temporality_cumulative</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : 
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?description</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unit_</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?aggregation_temporality</span>:<a href="#type-aggregation_temporality">aggregation_temporality</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?is_monotonic</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Opentelemetry_proto/Metrics/index.html#type-number_data_point">Proto.Metrics.number_data_point</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Sum of all reported measurements over a time interval</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-histogram_data_point"><a href="#val-histogram_data_point" class="anchor"></a><code><span><span class="keyword">val</span> histogram_data_point : 
  <span><span class="optlabel">?start_time_unix_nano</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?now</span>:<a href="../Timestamp_ns/index.html#type-t">Timestamp_ns.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?attrs</span>:
    <span><span>(string
     * <span>[&lt; <span>`Bool of bool</span>
       <span><span>| `Float</span> of float</span>
       <span><span>| `Int</span> of int</span>
       <span>| `None</span>
       <span><span>| `String</span> of string</span> ]</span>)</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?exemplars</span>:<span><a href="../../Opentelemetry_proto/Metrics/index.html#type-exemplar">Proto.Metrics.exemplar</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?explicit_bounds</span>:<span>float list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?sum</span>:<span>float option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">bucket_counts</span>:<span>int64 list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">count</span>:int64 <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Opentelemetry_proto/Metrics/index.html#type-histogram_data_point">Proto.Metrics.histogram_data_point</a></span></code></div><div class="spec-doc"><p>Histogram data</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">count</span> <p>number of values in population (non negative)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">sum</span> <p>sum of values in population (0 if count is 0)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">bucket_counts</span> <p>count value of histogram for each bucket. Sum of the counts must be equal to <code>count</code>. length must be <code>1+length explicit_bounds</code></p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">explicit_bounds</span> <p>strictly increasing list of bounds for the buckets</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-histogram"><a href="#val-histogram" class="anchor"></a><code><span><span class="keyword">val</span> histogram : 
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?description</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?unit_</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?aggregation_temporality</span>:<a href="../../Opentelemetry_proto/Metrics/index.html#type-aggregation_temporality">Proto.Metrics.aggregation_temporality</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Opentelemetry_proto/Metrics/index.html#type-histogram_data_point">Proto.Metrics.histogram_data_point</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_resource_metrics"><a href="#val-make_resource_metrics" class="anchor"></a><code><span><span class="keyword">val</span> make_resource_metrics : 
  <span><span class="optlabel">?service_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?attrs</span>:
    <span><span>(string
     * <span>[&lt; <span>`Bool of bool</span>
       <span><span>| `Float</span> of float</span>
       <span><span>| `Int</span> of int</span>
       <span>| `None</span>
       <span><span>| `String</span> of string</span> ]</span>)</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Opentelemetry_proto/Metrics/index.html#type-resource_metrics">Proto.Metrics.resource_metrics</a></span></code></div><div class="spec-doc"><p>Aggregate metrics into a <a href="../../Opentelemetry_proto/Metrics/index.html#type-resource_metrics"><code>Proto.Metrics.resource_metrics</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-emit"><a href="#val-emit" class="anchor"></a><code><span><span class="keyword">val</span> emit : 
  <span><span class="optlabel">?attrs</span>:
    <span><span>(string
     * <span>[&lt; <span>`Bool of bool</span>
       <span><span>| `Float</span> of float</span>
       <span><span>| `Int</span> of int</span>
       <span>| `None</span>
       <span><span>| `String</span> of string</span> ]</span>)</span>
      list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Emit some metrics to the collector (sync). This blocks until the backend has pushed the metrics into some internal queue, or discarded them.</p><p><b>NOTE</b> be careful not to call this inside a Gc alarm, as it can cause deadlocks.</p></div></div></div></body></html>
